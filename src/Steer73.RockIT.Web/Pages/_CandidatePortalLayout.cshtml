@using System.Globalization
@using Microsoft.Extensions.Configuration
@using Volo.Abp.AspNetCore.Mvc.AntiForgery
@using Volo.Abp.AspNetCore.Mvc.UI.Theme.LeptonX
@using Volo.Abp.AspNetCore.Mvc.UI.Theme.LeptonX.Bundling
@using Volo.Abp.Localization
@using Volo.Abp.Ui.Branding

@inject IAbpAntiForgeryManager AbpAntiForgeryManager
@inject IBrandingProvider BrandingProvider
@inject IConfiguration Configuration
@inject LeptonXStyleProvider LeptonXStyleProvider

@{
    AbpAntiForgeryManager.SetCookie();
    var langDir = CultureHelper.IsRtl ? "rtl" : string.Empty;
    var title = ViewBag.Title == null ? "Perrett Laver - Leading Global Executive Search Firm" : ViewBag.Title;
    var selectedStyle = await LeptonXStyleProvider.GetSelectedStyleAsync();

    var selectedStyleFileName = CultureHelper.IsRtl ? selectedStyle + ".rtl" : selectedStyle;

    var isTestScript = true;
    var dataDomainId = Configuration["OneTrust:DataDomainId"];
    if (Configuration["OneTrust:IsTestScript"] != null)
    {
        bool.TryParse(Configuration["OneTrust:IsTestScript"], out isTestScript);
    }
    var testScriptExtension = isTestScript ? "-test" : string.Empty; ;
}

<!DOCTYPE html>
<html lang="@CultureInfo.CurrentCulture.Name" dir="@langDir">
<head>

    <title>@title</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta charset="UTF-8" />
    <meta name="description" content="@ViewBag.MetaDescription" />

    <link rel="icon" href="~/cropped-Icon-32x32.png" type="image/svg+xml">
    <link href="~/Themes/LeptonX/Global/side-menu/css/bootstrap-@(selectedStyleFileName).css" type="text/css" rel="stylesheet" id="lpx-theme-bootstrap-@selectedStyle" />
    <link href="~/Themes/LeptonX/Global/side-menu/css/@(selectedStyleFileName).css" type="text/css" rel="stylesheet" id="lpx-theme-color-@selectedStyle" />
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&amp;family=Open+Sans:ital,wght@0,300..800;1,300..800&amp;display=swap" rel="stylesheet">
    <abp-style-bundle name="@LeptonXThemeBundles.Styles.Global" />

    <link rel="stylesheet" href="/css/style.css" />

    @await RenderSectionAsync("styles", false)

    <!-- CookiePro Cookies Consent Notice start -->
    <script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="@($"{dataDomainId}{testScriptExtension}")">
    </script>

    <script type="text/javascript">
        function OptanonWrapper() { }
    </script>
    <!-- CookiePro Cookies Consent Notice end -->

    @await RenderSectionAsync("scripts", false)
</head>
<body>
    @(await Html.PartialAsync("~/Views/_Header.cshtml"))

    @RenderBody()

    @(await Html.PartialAsync("~/Views/_Footer.cshtml"))

    <abp-script-bundle name="@LeptonXThemeBundles.Scripts.Global" />
    <script src="/scripts/header.js"></script>
</body>

</html>